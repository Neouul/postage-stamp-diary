import { useState } from 'react';
import { ArrowLeft, Share2 } from 'lucide-react';
import type { Stamp } from '../App';

interface DetailScreenProps {
  stamp: Stamp;
  onBack: () => void;
  onUpdateMemo: (stampId: string, memo: string) => void;
}

export function DetailScreen({ stamp, onBack, onUpdateMemo }: DetailScreenProps) {
  const [isFlipped, setIsFlipped] = useState(false);
  const [editedMemo, setEditedMemo] = useState(stamp.memo || '');

  const handleSave = () => {
    onUpdateMemo(stamp.id, editedMemo);
  };

  const handleShare = () => {
    // Simulate share functionality
    if (navigator.share) {
      navigator.share({
        title: `Stamp from ${stamp.location}`,
        text: `Check out my stamp from ${stamp.location} on ${stamp.date}`,
      }).catch(() => {
        // User cancelled or error
      });
    } else {
      alert('Share functionality simulated! In a real app, this would share the stamp.');
    }
  };

  return (
    <div className="min-h-screen bg-gray-50">
      {/* Header */}
      <header className="bg-white border-b border-gray-100">
        <div className="flex items-center justify-between p-4">
          <button
            onClick={onBack}
            className="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"
            aria-label="Back"
          >
            <ArrowLeft className="w-5 h-5 text-gray-900" />
          </button>
          
          <span className="text-gray-900">Stamp Detail</span>
          
          <button
            onClick={handleShare}
            className="w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors"
            aria-label="Share"
          >
            <Share2 className="w-5 h-5 text-gray-900" />
          </button>
        </div>
      </header>

      {/* Stamp Card Container */}
      <div className="p-6 flex flex-col items-center">
        {/* Flip Container */}
        <div
          className="relative w-full max-w-sm aspect-[3/4] cursor-pointer"
          style={{ perspective: '1000px' }}
          onClick={() => setIsFlipped(!isFlipped)}
        >
          <div
            className="relative w-full h-full transition-transform duration-600"
            style={{
              transformStyle: 'preserve-3d',
              transform: isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)',
            }}
          >
            {/* Front of Stamp */}
            <div
              className="absolute inset-0 bg-white rounded-sm shadow-lg"
              style={{
                backfaceVisibility: 'hidden',
                clipPath: `polygon(
                  0% 1.5%, 1.5% 1.5%, 1.5% 0%, 3% 0%, 3% 1.5%, 4.5% 1.5%, 4.5% 0%, 6% 0%, 6% 1.5%, 7.5% 1.5%, 7.5% 0%, 9% 0%, 9% 1.5%, 10.5% 1.5%, 10.5% 0%, 12% 0%, 12% 1.5%, 13.5% 1.5%, 13.5% 0%, 15% 0%, 15% 1.5%, 16.5% 1.5%, 16.5% 0%, 18% 0%, 18% 1.5%, 19.5% 1.5%, 19.5% 0%, 21% 0%, 21% 1.5%, 22.5% 1.5%, 22.5% 0%, 24% 0%, 24% 1.5%, 25.5% 1.5%, 25.5% 0%, 27% 0%, 27% 1.5%, 28.5% 1.5%, 28.5% 0%, 30% 0%, 30% 1.5%, 31.5% 1.5%, 31.5% 0%, 33% 0%, 33% 1.5%, 34.5% 1.5%, 34.5% 0%, 36% 0%, 36% 1.5%, 37.5% 1.5%, 37.5% 0%, 39% 0%, 39% 1.5%, 40.5% 1.5%, 40.5% 0%, 42% 0%, 42% 1.5%, 43.5% 1.5%, 43.5% 0%, 45% 0%, 45% 1.5%, 46.5% 1.5%, 46.5% 0%, 48% 0%, 48% 1.5%, 49.5% 1.5%, 49.5% 0%, 51% 0%, 51% 1.5%, 52.5% 1.5%, 52.5% 0%, 54% 0%, 54% 1.5%, 55.5% 1.5%, 55.5% 0%, 57% 0%, 57% 1.5%, 58.5% 1.5%, 58.5% 0%, 60% 0%, 60% 1.5%, 61.5% 1.5%, 61.5% 0%, 63% 0%, 63% 1.5%, 64.5% 1.5%, 64.5% 0%, 66% 0%, 66% 1.5%, 67.5% 1.5%, 67.5% 0%, 69% 0%, 69% 1.5%, 70.5% 1.5%, 70.5% 0%, 72% 0%, 72% 1.5%, 73.5% 1.5%, 73.5% 0%, 75% 0%, 75% 1.5%, 76.5% 1.5%, 76.5% 0%, 78% 0%, 78% 1.5%, 79.5% 1.5%, 79.5% 0%, 81% 0%, 81% 1.5%, 82.5% 1.5%, 82.5% 0%, 84% 0%, 84% 1.5%, 85.5% 1.5%, 85.5% 0%, 87% 0%, 87% 1.5%, 88.5% 1.5%, 88.5% 0%, 90% 0%, 90% 1.5%, 91.5% 1.5%, 91.5% 0%, 93% 0%, 93% 1.5%, 94.5% 1.5%, 94.5% 0%, 96% 0%, 96% 1.5%, 97.5% 1.5%, 97.5% 0%, 99% 0%, 99% 1.5%, 100% 1.5%, 100% 0%,
                  100% 0%, 99% 0%, 99% 1.5%, 100% 1.5%, 100% 3%, 99% 3%, 99% 4.5%, 100% 4.5%, 100% 6%, 99% 6%, 99% 7.5%, 100% 7.5%, 100% 9%, 99% 9%, 99% 10.5%, 100% 10.5%, 100% 12%, 99% 12%, 99% 13.5%, 100% 13.5%, 100% 15%, 99% 15%, 99% 16.5%, 100% 16.5%, 100% 18%, 99% 18%, 99% 19.5%, 100% 19.5%, 100% 21%, 99% 21%, 99% 22.5%, 100% 22.5%, 100% 24%, 99% 24%, 99% 25.5%, 100% 25.5%, 100% 27%, 99% 27%, 99% 28.5%, 100% 28.5%, 100% 30%, 99% 30%, 99% 31.5%, 100% 31.5%, 100% 33%, 99% 33%, 99% 34.5%, 100% 34.5%, 100% 36%, 99% 36%, 99% 37.5%, 100% 37.5%, 100% 39%, 99% 39%, 99% 40.5%, 100% 40.5%, 100% 42%, 99% 42%, 99% 43.5%, 100% 43.5%, 100% 45%, 99% 45%, 99% 46.5%, 100% 46.5%, 100% 48%, 99% 48%, 99% 49.5%, 100% 49.5%, 100% 51%, 99% 51%, 99% 52.5%, 100% 52.5%, 100% 54%, 99% 54%, 99% 55.5%, 100% 55.5%, 100% 57%, 99% 57%, 99% 58.5%, 100% 58.5%, 100% 60%, 99% 60%, 99% 61.5%, 100% 61.5%, 100% 63%, 99% 63%, 99% 64.5%, 100% 64.5%, 100% 66%, 99% 66%, 99% 67.5%, 100% 67.5%, 100% 69%, 99% 69%, 99% 70.5%, 100% 70.5%, 100% 72%, 99% 72%, 99% 73.5%, 100% 73.5%, 100% 75%, 99% 75%, 99% 76.5%, 100% 76.5%, 100% 78%, 99% 78%, 99% 79.5%, 100% 79.5%, 100% 81%, 99% 81%, 99% 82.5%, 100% 82.5%, 100% 84%, 99% 84%, 99% 85.5%, 100% 85.5%, 100% 87%, 99% 87%, 99% 88.5%, 100% 88.5%, 100% 90%, 99% 90%, 99% 91.5%, 100% 91.5%, 100% 93%, 99% 93%, 99% 94.5%, 100% 94.5%, 100% 96%, 99% 96%, 99% 97.5%, 100% 97.5%, 100% 99%, 99% 99%, 99% 100%, 100% 100%,
                  100% 100%, 99% 100%, 99% 98.5%, 97.5% 98.5%, 97.5% 100%, 96% 100%, 96% 98.5%, 94.5% 98.5%, 94.5% 100%, 93% 100%, 93% 98.5%, 91.5% 98.5%, 91.5% 100%, 90% 100%, 90% 98.5%, 88.5% 98.5%, 88.5% 100%, 87% 100%, 87% 98.5%, 85.5% 98.5%, 85.5% 100%, 84% 100%, 84% 98.5%, 82.5% 98.5%, 82.5% 100%, 81% 100%, 81% 98.5%, 79.5% 98.5%, 79.5% 100%, 78% 100%, 78% 98.5%, 76.5% 98.5%, 76.5% 100%, 75% 100%, 75% 98.5%, 73.5% 98.5%, 73.5% 100%, 72% 100%, 72% 98.5%, 70.5% 98.5%, 70.5% 100%, 69% 100%, 69% 98.5%, 67.5% 98.5%, 67.5% 100%, 66% 100%, 66% 98.5%, 64.5% 98.5%, 64.5% 100%, 63% 100%, 63% 98.5%, 61.5% 98.5%, 61.5% 100%, 60% 100%, 60% 98.5%, 58.5% 98.5%, 58.5% 100%, 57% 100%, 57% 98.5%, 55.5% 98.5%, 55.5% 100%, 54% 100%, 54% 98.5%, 52.5% 98.5%, 52.5% 100%, 51% 100%, 51% 98.5%, 49.5% 98.5%, 49.5% 100%, 48% 100%, 48% 98.5%, 46.5% 98.5%, 46.5% 100%, 45% 100%, 45% 98.5%, 43.5% 98.5%, 43.5% 100%, 42% 100%, 42% 98.5%, 40.5% 98.5%, 40.5% 100%, 39% 100%, 39% 98.5%, 37.5% 98.5%, 37.5% 100%, 36% 100%, 36% 98.5%, 34.5% 98.5%, 34.5% 100%, 33% 100%, 33% 98.5%, 31.5% 98.5%, 31.5% 100%, 30% 100%, 30% 98.5%, 28.5% 98.5%, 28.5% 100%, 27% 100%, 27% 98.5%, 25.5% 98.5%, 25.5% 100%, 24% 100%, 24% 98.5%, 22.5% 98.5%, 22.5% 100%, 21% 100%, 21% 98.5%, 19.5% 98.5%, 19.5% 100%, 18% 100%, 18% 98.5%, 16.5% 98.5%, 16.5% 100%, 15% 100%, 15% 98.5%, 13.5% 98.5%, 13.5% 100%, 12% 100%, 12% 98.5%, 10.5% 98.5%, 10.5% 100%, 9% 100%, 9% 98.5%, 7.5% 98.5%, 7.5% 100%, 6% 100%, 6% 98.5%, 4.5% 98.5%, 4.5% 100%, 3% 100%, 3% 98.5%, 1.5% 98.5%, 1.5% 100%, 0% 100%, 0% 98.5%,
                  0% 98.5%, 1.5% 98.5%, 1.5% 97.5%, 0% 97.5%, 0% 96%, 1.5% 96%, 1.5% 94.5%, 0% 94.5%, 0% 93%, 1.5% 93%, 1.5% 91.5%, 0% 91.5%, 0% 90%, 1.5% 90%, 1.5% 88.5%, 0% 88.5%, 0% 87%, 1.5% 87%, 1.5% 85.5%, 0% 85.5%, 0% 84%, 1.5% 84%, 1.5% 82.5%, 0% 82.5%, 0% 81%, 1.5% 81%, 1.5% 79.5%, 0% 79.5%, 0% 78%, 1.5% 78%, 1.5% 76.5%, 0% 76.5%, 0% 75%, 1.5% 75%, 1.5% 73.5%, 0% 73.5%, 0% 72%, 1.5% 72%, 1.5% 70.5%, 0% 70.5%, 0% 69%, 1.5% 69%, 1.5% 67.5%, 0% 67.5%, 0% 66%, 1.5% 66%, 1.5% 64.5%, 0% 64.5%, 0% 63%, 1.5% 63%, 1.5% 61.5%, 0% 61.5%, 0% 60%, 1.5% 60%, 1.5% 58.5%, 0% 58.5%, 0% 57%, 1.5% 57%, 1.5% 55.5%, 0% 55.5%, 0% 54%, 1.5% 54%, 1.5% 52.5%, 0% 52.5%, 0% 51%, 1.5% 51%, 1.5% 49.5%, 0% 49.5%, 0% 48%, 1.5% 48%, 1.5% 46.5%, 0% 46.5%, 0% 45%, 1.5% 45%, 1.5% 43.5%, 0% 43.5%, 0% 42%, 1.5% 42%, 1.5% 40.5%, 0% 40.5%, 0% 39%, 1.5% 39%, 1.5% 37.5%, 0% 37.5%, 0% 36%, 1.5% 36%, 1.5% 34.5%, 0% 34.5%, 0% 33%, 1.5% 33%, 1.5% 31.5%, 0% 31.5%, 0% 30%, 1.5% 30%, 1.5% 28.5%, 0% 28.5%, 0% 27%, 1.5% 27%, 1.5% 25.5%, 0% 25.5%, 0% 24%, 1.5% 24%, 1.5% 22.5%, 0% 22.5%, 0% 21%, 1.5% 21%, 1.5% 19.5%, 0% 19.5%, 0% 18%, 1.5% 18%, 1.5% 16.5%, 0% 16.5%, 0% 15%, 1.5% 15%, 1.5% 13.5%, 0% 13.5%, 0% 12%, 1.5% 12%, 1.5% 10.5%, 0% 10.5%, 0% 9%, 1.5% 9%, 1.5% 7.5%, 0% 7.5%, 0% 6%, 1.5% 6%, 1.5% 4.5%, 0% 4.5%, 0% 3%, 1.5% 3%, 1.5% 1.5%, 0% 1.5%
                )`,
              }}
            >
              <img
                src={stamp.imageUrl}
                alt={stamp.location}
                className="w-full h-full object-cover"
              />
              <div className="absolute bottom-0 left-0 right-0 bg-white p-4">
                <div className="text-sm text-gray-900">{stamp.date}</div>
                <div className="text-gray-600 text-sm">{stamp.location}</div>
              </div>
            </div>

            {/* Back of Stamp */}
            <div
              className="absolute inset-0 bg-white rounded-sm shadow-lg p-6 flex flex-col"
              style={{
                backfaceVisibility: 'hidden',
                transform: 'rotateY(180deg)',
                clipPath: `polygon(
                  0% 1.5%, 1.5% 1.5%, 1.5% 0%, 3% 0%, 3% 1.5%, 4.5% 1.5%, 4.5% 0%, 6% 0%, 6% 1.5%, 7.5% 1.5%, 7.5% 0%, 9% 0%, 9% 1.5%, 10.5% 1.5%, 10.5% 0%, 12% 0%, 12% 1.5%, 13.5% 1.5%, 13.5% 0%, 15% 0%, 15% 1.5%, 16.5% 1.5%, 16.5% 0%, 18% 0%, 18% 1.5%, 19.5% 1.5%, 19.5% 0%, 21% 0%, 21% 1.5%, 22.5% 1.5%, 22.5% 0%, 24% 0%, 24% 1.5%, 25.5% 1.5%, 25.5% 0%, 27% 0%, 27% 1.5%, 28.5% 1.5%, 28.5% 0%, 30% 0%, 30% 1.5%, 31.5% 1.5%, 31.5% 0%, 33% 0%, 33% 1.5%, 34.5% 1.5%, 34.5% 0%, 36% 0%, 36% 1.5%, 37.5% 1.5%, 37.5% 0%, 39% 0%, 39% 1.5%, 40.5% 1.5%, 40.5% 0%, 42% 0%, 42% 1.5%, 43.5% 1.5%, 43.5% 0%, 45% 0%, 45% 1.5%, 46.5% 1.5%, 46.5% 0%, 48% 0%, 48% 1.5%, 49.5% 1.5%, 49.5% 0%, 51% 0%, 51% 1.5%, 52.5% 1.5%, 52.5% 0%, 54% 0%, 54% 1.5%, 55.5% 1.5%, 55.5% 0%, 57% 0%, 57% 1.5%, 58.5% 1.5%, 58.5% 0%, 60% 0%, 60% 1.5%, 61.5% 1.5%, 61.5% 0%, 63% 0%, 63% 1.5%, 64.5% 1.5%, 64.5% 0%, 66% 0%, 66% 1.5%, 67.5% 1.5%, 67.5% 0%, 69% 0%, 69% 1.5%, 70.5% 1.5%, 70.5% 0%, 72% 0%, 72% 1.5%, 73.5% 1.5%, 73.5% 0%, 75% 0%, 75% 1.5%, 76.5% 1.5%, 76.5% 0%, 78% 0%, 78% 1.5%, 79.5% 1.5%, 79.5% 0%, 81% 0%, 81% 1.5%, 82.5% 1.5%, 82.5% 0%, 84% 0%, 84% 1.5%, 85.5% 1.5%, 85.5% 0%, 87% 0%, 87% 1.5%, 88.5% 1.5%, 88.5% 0%, 90% 0%, 90% 1.5%, 91.5% 1.5%, 91.5% 0%, 93% 0%, 93% 1.5%, 94.5% 1.5%, 94.5% 0%, 96% 0%, 96% 1.5%, 97.5% 1.5%, 97.5% 0%, 99% 0%, 99% 1.5%, 100% 1.5%, 100% 0%,
                  100% 0%, 99% 0%, 99% 1.5%, 100% 1.5%, 100% 3%, 99% 3%, 99% 4.5%, 100% 4.5%, 100% 6%, 99% 6%, 99% 7.5%, 100% 7.5%, 100% 9%, 99% 9%, 99% 10.5%, 100% 10.5%, 100% 12%, 99% 12%, 99% 13.5%, 100% 13.5%, 100% 15%, 99% 15%, 99% 16.5%, 100% 16.5%, 100% 18%, 99% 18%, 99% 19.5%, 100% 19.5%, 100% 21%, 99% 21%, 99% 22.5%, 100% 22.5%, 100% 24%, 99% 24%, 99% 25.5%, 100% 25.5%, 100% 27%, 99% 27%, 99% 28.5%, 100% 28.5%, 100% 30%, 99% 30%, 99% 31.5%, 100% 31.5%, 100% 33%, 99% 33%, 99% 34.5%, 100% 34.5%, 100% 36%, 99% 36%, 99% 37.5%, 100% 37.5%, 100% 39%, 99% 39%, 99% 40.5%, 100% 40.5%, 100% 42%, 99% 42%, 99% 43.5%, 100% 43.5%, 100% 45%, 99% 45%, 99% 46.5%, 100% 46.5%, 100% 48%, 99% 48%, 99% 49.5%, 100% 49.5%, 100% 51%, 99% 51%, 99% 52.5%, 100% 52.5%, 100% 54%, 99% 54%, 99% 55.5%, 100% 55.5%, 100% 57%, 99% 57%, 99% 58.5%, 100% 58.5%, 100% 60%, 99% 60%, 99% 61.5%, 100% 61.5%, 100% 63%, 99% 63%, 99% 64.5%, 100% 64.5%, 100% 66%, 99% 66%, 99% 67.5%, 100% 67.5%, 100% 69%, 99% 69%, 99% 70.5%, 100% 70.5%, 100% 72%, 99% 72%, 99% 73.5%, 100% 73.5%, 100% 75%, 99% 75%, 99% 76.5%, 100% 76.5%, 100% 78%, 99% 78%, 99% 79.5%, 100% 79.5%, 100% 81%, 99% 81%, 99% 82.5%, 100% 82.5%, 100% 84%, 99% 84%, 99% 85.5%, 100% 85.5%, 100% 87%, 99% 87%, 99% 88.5%, 100% 88.5%, 100% 90%, 99% 90%, 99% 91.5%, 100% 91.5%, 100% 93%, 99% 93%, 99% 94.5%, 100% 94.5%, 100% 96%, 99% 96%, 99% 97.5%, 100% 97.5%, 100% 99%, 99% 99%, 99% 100%, 100% 100%,
                  100% 100%, 99% 100%, 99% 98.5%, 97.5% 98.5%, 97.5% 100%, 96% 100%, 96% 98.5%, 94.5% 98.5%, 94.5% 100%, 93% 100%, 93% 98.5%, 91.5% 98.5%, 91.5% 100%, 90% 100%, 90% 98.5%, 88.5% 98.5%, 88.5% 100%, 87% 100%, 87% 98.5%, 85.5% 98.5%, 85.5% 100%, 84% 100%, 84% 98.5%, 82.5% 98.5%, 82.5% 100%, 81% 100%, 81% 98.5%, 79.5% 98.5%, 79.5% 100%, 78% 100%, 78% 98.5%, 76.5% 98.5%, 76.5% 100%, 75% 100%, 75% 98.5%, 73.5% 98.5%, 73.5% 100%, 72% 100%, 72% 98.5%, 70.5% 98.5%, 70.5% 100%, 69% 100%, 69% 98.5%, 67.5% 98.5%, 67.5% 100%, 66% 100%, 66% 98.5%, 64.5% 98.5%, 64.5% 100%, 63% 100%, 63% 98.5%, 61.5% 98.5%, 61.5% 100%, 60% 100%, 60% 98.5%, 58.5% 98.5%, 58.5% 100%, 57% 100%, 57% 98.5%, 55.5% 98.5%, 55.5% 100%, 54% 100%, 54% 98.5%, 52.5% 98.5%, 52.5% 100%, 51% 100%, 51% 98.5%, 49.5% 98.5%, 49.5% 100%, 48% 100%, 48% 98.5%, 46.5% 98.5%, 46.5% 100%, 45% 100%, 45% 98.5%, 43.5% 98.5%, 43.5% 100%, 42% 100%, 42% 98.5%, 40.5% 98.5%, 40.5% 100%, 39% 100%, 39% 98.5%, 37.5% 98.5%, 37.5% 100%, 36% 100%, 36% 98.5%, 34.5% 98.5%, 34.5% 100%, 33% 100%, 33% 98.5%, 31.5% 98.5%, 31.5% 100%, 30% 100%, 30% 98.5%, 28.5% 98.5%, 28.5% 100%, 27% 100%, 27% 98.5%, 25.5% 98.5%, 25.5% 100%, 24% 100%, 24% 98.5%, 22.5% 98.5%, 22.5% 100%, 21% 100%, 21% 98.5%, 19.5% 98.5%, 19.5% 100%, 18% 100%, 18% 98.5%, 16.5% 98.5%, 16.5% 100%, 15% 100%, 15% 98.5%, 13.5% 98.5%, 13.5% 100%, 12% 100%, 12% 98.5%, 10.5% 98.5%, 10.5% 100%, 9% 100%, 9% 98.5%, 7.5% 98.5%, 7.5% 100%, 6% 100%, 6% 98.5%, 4.5% 98.5%, 4.5% 100%, 3% 100%, 3% 98.5%, 1.5% 98.5%, 1.5% 100%, 0% 100%, 0% 98.5%,
                  0% 98.5%, 1.5% 98.5%, 1.5% 97.5%, 0% 97.5%, 0% 96%, 1.5% 96%, 1.5% 94.5%, 0% 94.5%, 0% 93%, 1.5% 93%, 1.5% 91.5%, 0% 91.5%, 0% 90%, 1.5% 90%, 1.5% 88.5%, 0% 88.5%, 0% 87%, 1.5% 87%, 1.5% 85.5%, 0% 85.5%, 0% 84%, 1.5% 84%, 1.5% 82.5%, 0% 82.5%, 0% 81%, 1.5% 81%, 1.5% 79.5%, 0% 79.5%, 0% 78%, 1.5% 78%, 1.5% 76.5%, 0% 76.5%, 0% 75%, 1.5% 75%, 1.5% 73.5%, 0% 73.5%, 0% 72%, 1.5% 72%, 1.5% 70.5%, 0% 70.5%, 0% 69%, 1.5% 69%, 1.5% 67.5%, 0% 67.5%, 0% 66%, 1.5% 66%, 1.5% 64.5%, 0% 64.5%, 0% 63%, 1.5% 63%, 1.5% 61.5%, 0% 61.5%, 0% 60%, 1.5% 60%, 1.5% 58.5%, 0% 58.5%, 0% 57%, 1.5% 57%, 1.5% 55.5%, 0% 55.5%, 0% 54%, 1.5% 54%, 1.5% 52.5%, 0% 52.5%, 0% 51%, 1.5% 51%, 1.5% 49.5%, 0% 49.5%, 0% 48%, 1.5% 48%, 1.5% 46.5%, 0% 46.5%, 0% 45%, 1.5% 45%, 1.5% 43.5%, 0% 43.5%, 0% 42%, 1.5% 42%, 1.5% 40.5%, 0% 40.5%, 0% 39%, 1.5% 39%, 1.5% 37.5%, 0% 37.5%, 0% 36%, 1.5% 36%, 1.5% 34.5%, 0% 34.5%, 0% 33%, 1.5% 33%, 1.5% 31.5%, 0% 31.5%, 0% 30%, 1.5% 30%, 1.5% 28.5%, 0% 28.5%, 0% 27%, 1.5% 27%, 1.5% 25.5%, 0% 25.5%, 0% 24%, 1.5% 24%, 1.5% 22.5%, 0% 22.5%, 0% 21%, 1.5% 21%, 1.5% 19.5%, 0% 19.5%, 0% 18%, 1.5% 18%, 1.5% 16.5%, 0% 16.5%, 0% 15%, 1.5% 15%, 1.5% 13.5%, 0% 13.5%, 0% 12%, 1.5% 12%, 1.5% 10.5%, 0% 10.5%, 0% 9%, 1.5% 9%, 1.5% 7.5%, 0% 7.5%, 0% 6%, 1.5% 6%, 1.5% 4.5%, 0% 4.5%, 0% 3%, 1.5% 3%, 1.5% 1.5%, 0% 1.5%
                )`,
              }}
            >
              <div className="flex-1">
                <div className="mb-4">
                  <div className="text-sm text-gray-500 mb-1">Date</div>
                  <div className="text-gray-900">{stamp.date}</div>
                </div>
                <div className="mb-4">
                  <div className="text-sm text-gray-500 mb-1">Location</div>
                  <div className="text-gray-900">{stamp.location}</div>
                </div>
                <div className="mb-4">
                  <div className="text-sm text-gray-500 mb-1">Category</div>
                  <div className="text-gray-900">{stamp.category}</div>
                </div>
                <div className="flex-1">
                  <div className="text-sm text-gray-500 mb-1">Memo</div>
                  <textarea
                    value={editedMemo}
                    onChange={(e) => setEditedMemo(e.target.value)}
                    onClick={(e) => e.stopPropagation()}
                    className="w-full h-32 p-3 border border-gray-200 rounded-sm resize-none focus:outline-none focus:ring-1 focus:ring-gray-900 text-gray-900"
                    placeholder="Write your memory here..."
                  />
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Hint Text */}
        <div className="mt-4 text-center text-sm text-gray-400">
          Tap to flip the stamp
        </div>
      </div>

      {/* Action Buttons */}
      <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4">
        <div className="flex gap-3">
          <button
            onClick={handleSave}
            className="flex-1 bg-gray-900 text-white py-3 rounded-sm hover:bg-gray-800 transition-colors"
          >
            Save
          </button>
        </div>
      </div>
    </div>
  );
}
